!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Accordium=e():t.Accordium=e()}(self,(()=>(()=>{"use strict";var t={322:(t,e)=>{let i;e.__esModule=!0,e.Accordium=void 0,function(t){let e=function(t){return t.Main="[data-accordium]",t.Header="[data-accordium-header]",t.Content="[data-accordium-content]",t}({});t.Query=e;let i=function(t){return t.Main="data-accordium",t.Header="data-accordium-header",t.Content="data-accordium-content",t}({});t.Attr=i}(i||(i={}));var r=function(t){return t.Multiple="multiple",t.Single="single",t.Nested="nested",t}(r||{});class AccordiumElements{constructor(t){this.defaultOptions={mode:[r.Multiple,r.Single,r.Nested],customClass:"active",enableAria:!0},this.options={...this.defaultOptions,...t},this.accordiums=document.querySelectorAll(i.Query.Main)}getAccordiumChildren(t){const e=this.accordiums[t];return e||console.error(`The position ${t} not exists in accordiums`),{header:e.querySelectorAll(i.Query.Header),content:e.querySelectorAll(i.Query.Content)}}toggleARIA(t,e){t.setAttribute("aria-expanded",e.toString())}defineElementAttr(t,e,i){const r="boolean"==typeof i?i.toString():i;t.setAttribute(e,r)}defineElementStyle(t){t.style.maxHeight="0px",t.style.overflow="hidden"}parseElementId(t,e){return parseInt(t.id.replace(`${e}`,""))}parseObjectKey(t,e){return parseInt(t.id.replace(`${e}`,""))}findFirstParent(t,e){const i=t?.parentElement;return i?i.hasAttribute(e)?i:this.findFirstParent(i,e):null}setContentHeight(t,e){const{customClass:i}=this.options;if(e)return t.classList.add(i),void(t.style.maxHeight=`${t.scrollHeight}px`);t.classList.remove(i),t.style.maxHeight="0px"}isClose(t){return"0px"===t.style.maxHeight}}e.Accordium=class Accordium extends AccordiumElements{accordiumMap={};constructor(t){super(t);const{mode:e,enableAria:r}=this.options;for(let t=0;t<this.accordiums.length;t++){const s=t,{header:n,content:o}=this.getAccordiumChildren(s);if(r&&e){const i="single"===e[t];this.defineElementAttr(this.accordiums[t],"aria-multiselectable",!i)}this.defineElementAttr(this.accordiums[t],"id",`accordium-${t}`),this.accordiumMap[t]={},this.accordiumMap[t].headers={},this.accordiumMap[t].contents={};for(let e=0;e<o.length;e++)this.accordiumMap[t].headers[e]=n[e],this.accordiumMap[t].contents[e]=o[e],r&&(this.defineElementAttr(n[e],"aria-expanded","false"),this.defineElementAttr(n[e],"aria-controls",`content-${t}-${e}`),this.defineElementAttr(o[e],"role","region"),this.defineElementAttr(o[e],"aria-labelledby",`accordium-${t}-${e}`)),this.defineElementAttr(n[e],"id",`header-${t}-${e}`),this.defineElementAttr(o[e],"id",`content-${t}-${e}`),this.defineElementStyle(o[e]);this.accordiums[t].addEventListener("click",(r=>{if(!r.target.hasAttribute(i.Attr.Header))return;const n=Array.isArray(e)?e[t]:e,o=r.target,c=this.parseElementId(o,`header-${t}-`);this.toggleAccordium(s,c,n)}))}}runMultiple(t,e){const{enableAria:i}=this.options,r=this.accordiumMap[t].headers[e],s=this.accordiumMap[t].contents[e],n=this.isClose(s);i&&this.toggleARIA(r,n),this.setContentHeight(s,n)}runSingle(t,e){const{enableAria:i}=this.options,r=this.accordiumMap[t].headers[e],s=this.accordiumMap[t].contents[e],n=this.isClose(s);i&&this.toggleARIA(r,n),this.setContentHeight(s,n),Object.entries(this.accordiumMap[t].contents).forEach((([t,i])=>{parseInt(t)!==e&&this.setContentHeight(i,!1)})),Object.entries(this.accordiumMap[t].headers).forEach((([t,r])=>{parseInt(t)!==e&&i&&this.toggleARIA(r,!1)}))}runNested(t,e){const{enableAria:r}=this.options,s=this.accordiumMap[t].headers[e],n=this.accordiumMap[t].contents[e],o=this.isClose(n),c=n.scrollHeight;r&&this.toggleARIA(s,o),this.setContentHeight(n,o);let a=this.findFirstParent(n,i.Attr.Content);for(;a;){const t=a?.scrollHeight;a.style.maxHeight=`${t+c}px`,a=this.findFirstParent(a,i.Attr.Content)}}toggleAccordium(t,e,i){switch(i){case r.Nested:this.runNested(t,e);break;case r.Single:this.runSingle(t,e);break;default:this.runMultiple(t,e)}}}}},e={};function i(r){var s=e[r];if(void 0!==s)return s.exports;var n=e[r]={exports:{}};return t[r](n,n.exports,i),n.exports}var r={};return(()=>{var t=r;t.__esModule=!0,t.Accordium=void 0;var e=i(322);t.Accordium=e.Accordium})(),r})()));